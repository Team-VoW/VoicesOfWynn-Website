<?php

/**
 * Audio Player Component
 *
 * Required variable: $audioSrc - URL to the audio file
 */

// Validate that $audioSrc is provided
if (!isset($audioSrc) || empty($audioSrc)) {
    throw new InvalidArgumentException(
        'Audio player partial requires $audioSrc variable to be set and non-empty. ' .
        'Please provide a valid audio source URL.'
    );
}
?>
<div class="custom-audio-player">
    <button type="button" class="audio-play-btn" aria-label="Play audio"
        data-src="<?= htmlspecialchars($audioSrc, ENT_QUOTES, 'UTF-8') ?>" aria-pressed="false">
        <span class="play-icon"></span>
        <span class="pause-icon"></span>
    </button>
    <div class="audio-waveform" aria-hidden="true">
        <?php for ($i = 0; $i < 15; $i++): ?>
            <div class="bar"></div>
        <?php endfor; ?>
    </div>
</div>